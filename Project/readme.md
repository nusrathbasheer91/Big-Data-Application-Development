HOW TO RUN THE APPLICATION
-----------------------------

unzip the file,after unzipping the file:


Folders present are:
1. ARIMA
2. DATA VISULAIZATION
3. KMEANS
4. DATASETS
5. src

 
Files present inside the src folder:
1. kmeans.scala
2.join_3_datasets.scala
3. Crime_Grouped_By_date.scala
4. crimes_time_forecasting_model



the two models : join_3_datasets.scala and kmeans.scala can be run through  the following commands:


To run the program successfully:
----------------------------------
(where $user is your netid)


1.copy the three data sources from folder DATASETS and put them in /home/user/datasets

2.copy kmeans.scala and join_3_datasets.scala in /home/user/datasets

3.hdfs dfs -mkdir /user/$user/CRIMEDETECT

4. hdfs dfs -mkdir /user/$user/CRIMEDETECT/InputFilesMerge

5. hdfs dfs -mkdir /user/$user/CRIMEDETECT/InputFilesKmeans

6. hdfs dfs -put *.csv /user/$user/CRIMEDETECT/InputFilesMerge

7. spark-shell  -i join_3_datasets.scala --conf spark.driver.args="$user"


8. hdfs dfs -get /user/$user/outputfiles/sqljointBIG /home/$user


9. hdfs dfs -put /home/$user/sqljointBIG/* /user/$user/CRIMEDETECT/InputFilesKmeans


10. spark-shell --packages com.databricks:spark-csv_2.10:1.1.0 -i kmeans.scala --conf spark.driver.args="$user"





FUNCTIONALITY OF THE APPLICATION
---------------------------------


once you run the above commands :

the three datasets are joined together using the code in the file join_3_datasets.scala
after performing the merge operation, the output of this functionality is fed to kmeans.scala



Kmeans.scala
----------

Functionality
------------------
Input: merged data of income , demographic and crime
and cluster the data based on attribbutes of crime  which defines the instances of the cluster

Output:

The output is 5 clusters with 20 iterations.

and spark-sql has been used on these clusters to infer further conclusions:
The output generated by spark-sql is:
1. KmeansclusterAvgData
2.KmeanscrimecatData
3. KmeansfiltClusterData
4.KmeansyearwisecrimeData
5. KmeanszipwisecrimeData
6. OutputKmeansclusterData

All the visulaizations has been done in tableau : the graphs can be seen in DATA VISUALIZATION


II Functionality
----------------------

ARIMA TIMEForecasting models
----------------------------------
In this model, we have predicted the crime rate for the next two years to understand the crime rate .

We have used sparkts library for this.This is an individual unit that needs to run iteratively.Also load these modules:

module load java/1.8.0_72
module load spark/2.1.0

multiple jar files are required to run the application in the spark-shell

put all the jars in /home/$user/project/jardir

spark-shell --jars /home/$user/project/jardir/sparkts-0.4.1.jar,/home/$user/project/jardir/arpack_combined_all-0.1.jar,/home/$user/project/jardir/bcmail-jdk14-138.jar,/home/$user/project/jardir/bcprov-jdk14-138.jar,/home/$user/project/jardir/breeze_2.11-0.12.jar,/home/$user/project/jardir/breeze-macros_2.11-0.12.jar,/home/$user/project/jardir/breeze-viz_2.11-0.12.jar,/home/$user/project/jardir/commons-io-1.3.1.jar,/home/$user/project/jardir/commons-logging-1.0.4.jar,/home/$user/project/jardir/commons-math3-3.4.1.jar,/home/$user/project/jardir/core-1.1.2.jar,/home/$user/project/jardir/jcommon-1.0.16.jar,/home/$user/project/jardir/jfreechart-1.0.13.jar,/home/$user/project/jardir/jtransforms-2.4.0.jar,/home/$user/project/jardir/opencsv-2.3.jar,/home/$user/project/jardir/scala-compiler-2.11.8.jar,/home/$user/project/jardir/scala-library-2.11.8.jar,/home/$user/project/jardir/scalap-2.11.8.jar,/home/$user/project/jardir/scala-parser-combinators_2.11-1.0.4.jar,/home/$user/project/jardir/scala-reflect-2.11.8.jar,/home/$user/project/jardir/shapeless_2.11-2.0.0.jar,/home/$user/project/jardir/slf4j-api-1.7.5.jar,/home/$user/project/jardir/spire_2.11-0.7.4.jar,/home/$user/project/jardir/spire-macros_2.11-0.7.4.jar,/home/$user/project/jardir/threeten-extra-0.9.jar,/home/$user/project/jardir/xmlgraphics-commons-1.3.1.jar












 